{% extends 'base.html.twig' %}

{% block title %}Quack index{% endblock %}

{% block body %}
    <h1 class="text-4xl font-bold mb-8">Quack index</h1>

    {% if quacks is not empty %}
        <ul class="list-none p-0">
            {% for quack in quacks %}
                <li class="mb-8">
                    <a href="{{ path('app_quack_show', {'id': quack.id}) }}" class="card-link">
                        <div class="bg-white rounded-md p-6 shadow-md hover:shadow-lg transition duration-300" style="max-width: 400px; margin: 0 auto;">
                            <div class="flex justify-between items-center mb-2">
                                <p class="text-lg font-bold">{{ quack.user.duckname }}</p>
                                <p class="text-gray-500 text-sm">{{ quack.createdAt ? quack.createdAt|date('d-m-Y H:i') : '' }}</p>
                            </div>

                            <div class="bg-primary p-4 rounded-md mb-4">
                                <p class="text-white">{{ quack.content }}</p>
                            </div>

                            <div class="flex justify-between items-center">
                                <span class="text-blue-500">Show</span>

                                {% if quack.user.id is same as (app.user.id) %}
                                    <a href="{{ path('app_quack_edit', {'id': quack.id}) }}" class="text-yellow-500">Edit</a>
                                {% endif %}
                            </div>
                        </div>
                    </a>
                </li>
            {% endfor %}
        </ul>
    {% else %}
        <p class="text-gray-500 text-lg">No records found.</p>
    {% endif %}

    <div class="mt-8">
        <a href="{{ path('app_quack_new') }}" class="btn btn-accent">Create</a>
    </div>
{% endblock %}
